<div class="row dashboard">
  <div class="col col-md-3 col-sm-12">
    <%= render partial: "shared/action_button", locals: { text: "profile info", glyphicon: "user", goto: edit_user_path(current_user) } %>
  </div>
  <div class="col col-md-3 col-sm-12">
    <%= render partial: "shared/action_button", locals: { text: "overlays", glyphicon: "modal-window", goto: overlays_path } %>
  </div>
  <div class="col col-md-3 col-sm-12">
    <%= render partial: "shared/action_button", locals: { text: "social media accounts", glyphicon: "comment", goto: accounts_edit_path } %>
  </div>
</div>

<div class="container">
  <p class="btn-submit" id="add_overlay_btn">Add overlay</p>
  <p class="btn-submit" id="default_overlay_btn">Default Overlay</p>
  <div id="form_container">
  </div>
  
  <div>
    <h2>Your Overlays</h2>
    <% @overlays.each_with_index do |overlay| %>
      <% if overlay.id %>
        <div style="margin-bottom: 10px; display: inline-block; vertical-align: top;">
          <h3 style="text-align: left; display: inline-block;"><%= overlay.name %></h3>
          <%= link_to overlays_path( id: overlay.id), method: :delete, style: "display: inline-block;" do %>
            <span class="glyphicon glyphicon-trash" ></span>
          <% end %><br>
          <img src="<%= overlay.picture.url %>" style="max-height: 300px; max-width: 100%;" />
        </div>
      <% end %>
    <% end %>
  </div>
</div>

<script type="text/javascript">
  $('#micropost_picture').bind('change', function() {
    var size_in_megabytes = this.files[0].size/1024/1024;
    if (size_in_megabytes > 10) {
      alert('Maximum file size is 10MB. Please choose a smaller file.');
    }
  });

  $("#add_overlay_btn").click(function(){
    $("#form_container").html("<%= j render 'new_overlay' %>");
  });
  $("#default_overlay_btn").click(function(){
    $("#form_container").html("<%= j render 'default_overlay' %>");
  });

</script>